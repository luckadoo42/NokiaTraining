<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
		<task id="id9YZ-09018-IN00-RJZZA-Changing-password"><title>Changing password on first login</title><taskbody id="d1e6523"><context><sectiondiv>
				<p><b>Overview</b></p>
				<p>This procedure provides instructions on how to change the password on the first
					login and propagate this new password to all the VMs.</p>
				<note>
					<p>The instantiate operation is the only LCM operation that requires this enforcement. All
						other LCM operations where the NCC images are used such as healone with
						instance rebuild and scale-out have the user and password information
						preserved from the last time when the changes have been applied.</p>
				</note>
			</sectiondiv><sectiondiv><b>Before you begin:</b></sectiondiv><p>Before beginning this
				procedure:</p><ul id="ul_xdj_hm3_jlb">
				<li>
					<p>Ensure that you know the default <codeph>tpaadmin</codeph> password. Contact
						Nokia Professional services to obtain this password, </p>
				</li>
				<li>
					<p>See chapter <i>Security and user management </i>in the Operation,
						Administration, and Maintenance Guide for the following:</p>
					<ul id="ul_zdj_hm3_jlb">
						<li>
							<p>default password complexity rules</p>
						</li>
						<li>
							<p>change-passwd tool</p>
						</li>
						<li>
							<p>modify-user tool</p>
						</li>
					</ul>
				</li>
			</ul>To change the password on the first login:</context><steps>

<step><cmd>As the tpaadmin user, <codeph>ssh</codeph> to the fixed IP or VIP of the Active OAME VM.</cmd><info/></step>
<step><cmd>If you are not prompted to change the password, go to step 7. Otherwise, enter the default <codeph>tpaadmin</codeph> password, when the following appears:</cmd><info><note>

<p>The default <codeph>tpaadmin</codeph> password is part of the images.</p>
</note><p>
<codeph>WARNING: Your password has expired.</codeph>
</p><p>
<codeph>You must change your password now and log in again!</codeph>
</p><p>
<codeph>Changing password for user tpaadmin.</codeph>
</p><p>
<codeph>Enter login password:</codeph>
</p></info></step>
<step><cmd>Enter the new <codeph>tpaadmin</codeph> password when the following command prompt appears:</cmd><info><p>
<codeph>New password:</codeph>
</p><note>

<p> For example, Mo!n5to33t is consistent with all the password default rules.</p>
</note></info></step>
<step><cmd>Retype the new password when the following command prompt appears:</cmd><info><p>
<codeph>Retype new password:</codeph>
</p></info></step>
<step><cmd>If the password was successfully changed, the following occurs:</cmd><info><ul>

<li>
<p>The following message appears:</p>
<p>
<codeph>passwd: password successfully changed for tpaadmin</codeph>
</p>
<p>
<codeph>passwd: all authentication tokens updated successfully.</codeph>
</p>
<p>
<codeph>Connection to &lt;IP&gt; closed.</codeph>
</p>
</li>
<li>
<p>SSH connection closes.</p>
</li>
</ul><p>In case of failure, determine the cause of failure, find a solution and start the procedure again.</p></info></step>
<step><cmd>As the tpaadmin user, <codeph>ssh</codeph> to the fixed IP or VIP of the Active OAME VM using the new password.</cmd><info/></step>
<step><cmd>Using the default <codeph>root</codeph> password, switch to <codeph>root</codeph> by entering:</cmd><info><p>
<codeph>su - root</codeph>
</p></info></step>
<step><cmd>Change the <codeph>tpaadmin</codeph> default password on all the VMs by entering:</cmd><info><p>
<codeph>/usr/local/bin/change-passwd -B -T all tpaadmin</codeph>
</p></info></step>
<step><cmd>If the new <codeph>tpaadmin</codeph> password was created in step 2, enter this new <codeph>tpaadmin</codeph> password when the following command prompt appears:</cmd><info><p>
<codeph>The new password:</codeph>
</p><p>If the new <codeph>tpaadmin</codeph> password was not created in step 2, enter the new <codeph>tpaadmin</codeph> password when the following command prompt appears:</p><p>
<codeph>New password:</codeph>
</p><note>

<p> For example, Mo!n5to33t is consistent with all the password default rules.</p>
</note></info></step>
<step><cmd>Retype the new <codeph>tpaadmin</codeph> password when the following command prompt appears:</cmd><info><p>
<codeph>Retype the new password:</codeph>
</p></info></step>
<step><cmd>If the password change succeeds on all the VMs, the output is as follows:</cmd><info><fig>
<codeblock>&lt;2019.12.08 00:23:47 -0500&gt;&lt;sps-oame-0&gt;&lt;change-passwd&gt; DEBUG: All sub-processes are finished.
&lt;2019.12.08 00:23:47 -0500&gt;&lt;sps-oame-0&gt;&lt;change-passwd&gt; INFO: Done with success.</codeblock>
</fig><p>In case of failure, do the following:</p><ol>

<li>
<p>Determine the cause of failure and find a solution.</p>
</li>
<li>
<p>Purge the failure tracking by entering:</p>
<p>
<codeph>/opt/tpa/sbin/modify-user -P</codeph>
</p>
</li>
<li>
<p>Repeat the procedure beginning from step 7.</p>
</li>
</ol></info></step>
</steps>
</taskbody></task>