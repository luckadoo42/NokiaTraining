<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="id9yz-09126-mt00-rezza-sp2-distributerulattr"><title>distribute-custom-rule-attribute-dictionaries</title><conbody>
<section><title>Description</title>
<p>This tool distributes custom rule attribute dictionaries to all nodes that require them. It then triggers rules reloads to regenerate the rules attribute dictionaries. If this tool is run on an SM, it will also distribute or not distribute the dictionaries to each of the named ME's OAMEs.</p>
<note>
<p>This script overwrites existing dictionaries. We recommend making backups of your existing dictionaries before running the script.</p>
</note>
</section>
<section><title>Syntax</title>
<p>If you are installing a new PCRFCustomRuleAttributeDictionary.xml file, a new ChargingCustomRuleAttributeDictionary.xml, diameter/rule/ChargingVsaToContextMapping.xml, diameter/rule/VsaToContextMapping.xml or a new RSCustomRuleAttributeDictionary.xml run the following command on the SMâ€™s Active OAME:</p>
<p>
<userinput>/opt/tpa/bin/distribute-rules-dictionaries -d &lt;directory&gt; [-e &lt;MEs&gt;] [-i &lt;MEs&gt;]</userinput>
</p>
<p>Where:</p>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<thead>
<row>
<entry>
<p>Option</p>
</entry>
<entry>
<p>Description</p>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<codeblock>-d &lt;directory&gt;</codeblock>
</entry>
<entry>
Source directory containing the custom rules attribute dictionary files to distribute. This is not required when run on an ME to distribute files that came from an SM.
</entry>
</row>
<row>
<entry>
<codeblock>-e &lt;MEs&gt;</codeblock>
</entry>
<entry>
Excludes the MEs (comma-separated OAME VIPs of MEs) from distribution. Only meaningful when run on SM.
</entry>
</row>
<row>
<entry>
<codeblock>-i &lt;MEs&gt;</codeblock>
</entry>
<entry>
Includes the MEs (comma-separated OAME VIPs of MEs) for distribution. Only meaningful when run on SM.
</entry>
</row>
<row>
<entry>
<codeblock>-h</codeblock>
</entry>
<entry>
Displays help for this tool.
</entry>
</row>
</tbody>
</tgroup>
</table>
<p>The command performs the following:</p><ul>
<li>
<p>Pushes the dictionary files to the SM application nodes in that SM site.</p>
</li>
<li>
<p>Reloads rules in all the SM app nodes.</p>
</li>
<li>
<p>Creates an archive of the dictionary files and pushes it to the Active OAME node on the ME sites.</p>
</li>
</ul>
</section>
</conbody></concept>