<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="id9yz-09126-mt00-rezza-sp2-add-user-tool"><title>add-user tool</title><conbody>
<section><title>Description</title>
<p>This tool is a centralized version of <codeph>useradd</codeph> and it allows you to add a user. This tool runs on OAME nodes and distributes the operation to all the specified nodes. The options applicable to <codeph>useradd</codeph> are directly passed to it. For information on <codeph>useradd</codeph> options, see <codeph>useradd</codeph> manual.</p>
<note>
<p>When a new user logs in to the NCC for the first time, the system forces the user to change the
     userâ€™s default password. For instructions on how to do it, see the procedure
      <!--xref URI: t-oam-changing-password-when-user-created.xml#Changing-user-password-when-user-created--><xref
      keyref="id9YZ-09126-MT00-REZZA-SP2-Changing-user-password-when-user-created"/>.</p>
</note>
</section>
<section><title>Syntax</title>
<p>
<codeph>add-user [options] [user]</codeph>
</p>
<p>
<codeph>add-user -D &lt;options&gt;</codeph>
</p>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<thead>
<row>
<entry>
<p>Code</p>
</entry>
<entry>
<p>Description</p>
</entry>
</row>
</thead>
<tbody>
<row>
<entry>
<codeblock>-B</codeblock>
</entry>
<entry>
Enables debug logging.
</entry>
</row>
<row>
<entry>
<codeblock>-C</codeblock>
</entry>
<entry>
Continues to run the previously failed operation.
</entry>
</row>
<row>
<entry>
<codeblock>-F</codeblock>
</entry>
<entry>
Forces to run the current operation regardless of previous failures.
</entry>
</row>
<row>
<entry>
<codeblock>-h</codeblock>
</entry>
<entry>
 Displays this help message and exits.
</entry>
</row>
<row>
<entry>
<codeblock>-H &lt;HOST_NAMES&gt;</codeblock>
</entry>
<entry>
Specifies which host names (comma-separated) the operation is applied to. The internal IP addresses can also be used. Overrides <codeph>-T</codeph>. 
</entry>
</row>
<row>
<entry>
<codeblock>-P</codeblock>
</entry>
<entry>
Purges failure tracking files.
</entry>
</row>
<row>
<entry>
<codeblock>-T &lt;NODE_TYPES&gt;</codeblock>
</entry>
<entry>
<p>Specifies which node types (comma-separated) the operation is applied to.</p>
<p>The valid values are:</p><ul>
<li>
<p>for ME: all, auxiliary, cdr, comsvc, db, diameterapp, iohd, ioho, oame</p>
</li>
<li>
<p>for SM: all, auxiliary, db, ioho, oame, smapp</p>
</li>
</ul>
</entry>
</row>
<row>
<entry>
Applicable <codeph>useradd</codeph> options
</entry>
<entry/>
</row>
<row>
<entry>
<codeph>-b &lt;BASE_DIR&gt;</codeph>
</entry>
<entry>
Base directory for the home directory of the new account
</entry>
</row>
<row>
<entry>
<codeph>-c &lt;COMMENT&gt;</codeph>
</entry>
<entry>
Description of the new account.
</entry>
</row>
<row>
<entry>
<codeph>-d &lt;HOME_DIR&gt;</codeph>
</entry>
<entry>
Home directory of the new account.
</entry>
</row>
<row>
<entry>
<codeph>-D</codeph>
</entry>
<entry>
Changes default <codeph>useradd</codeph> configuration.
</entry>
</row>
<row>
<entry>
<codeph>-f &lt;INACTIVE&gt;</codeph>
</entry>
<entry>
Password inactivity period of the new account.
</entry>
</row>
<row>
<entry>
<codeph>-g &lt;GROUP&gt;</codeph>
</entry>
<entry>
Name or ID of the primary group of the new account.
</entry>
</row>
<row>
<entry>
<codeph>-G &lt;GROUPS&gt;</codeph>
</entry>
<entry>
Lists of supplementary groups of the new account.
</entry>
</row>
<row>
<entry>
<codeph>-k &lt;SKEL_DIR&gt;</codeph>
</entry>
<entry>
Uses this alternative skeleton directory.
</entry>
</row>
<row>
<entry>
<codeph>-K &lt;KEY=VALUE&gt;</codeph>
</entry>
<entry>
Overrides /etc/login.defs defaults.
</entry>
</row>
<row>
<entry>
<codeph>-l</codeph>
</entry>
<entry>
Do not add the user to the lastlog and faillog databases.
</entry>
</row>
<row>
<entry>
<codeph>-m</codeph>
</entry>
<entry>
Creates the user's home directory.
</entry>
</row>
<row>
<entry>
<codeph>-M</codeph>
</entry>
<entry>
Do not create the user's home directory.
</entry>
</row>
<row>
<entry>
<codeph>-N</codeph>
</entry>
<entry>
Do not create a group with the same name as the user.
</entry>
</row>
<row>
<entry>
<codeph>-o</codeph>
</entry>
<entry>
Allows to create users with duplicate (non-unique) UID.
</entry>
</row>
<row>
<entry>
<codeph>-r</codeph>
</entry>
<entry>
Creates a system account.
</entry>
</row>
<row>
<entry>
<codeph>-R &lt;CHROOT_DIR&gt;</codeph>
</entry>
<entry>
Directory to chroot into.
</entry>
</row>
<row>
<entry>
<codeph>-s &lt;SHELL&gt;</codeph>
</entry>
<entry>
Login shell of the new account.
</entry>
</row>
<row>
<entry>
<codeph>-u &lt;UID&gt;</codeph>
</entry>
<entry>
User ID of the new account.
</entry>
</row>
<row>
<entry>
<codeph>-U</codeph>
</entry>
<entry>
Creates a group with the same name as the user.
</entry>
</row>
<row>
<entry>
<codeph>-Z &lt;SEUSER&gt;</codeph>
</entry>
<entry>
Uses a specific SEUSER for the SELinux user mapping.
</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>Example output</title>
<fig>
<codeblock>[root@sps-me-oame-0 ~]# /opt/tpa/sbin/add-user -T all -g group1 newuser1
&lt;2018.12.04 16:04:22 -0500&gt;&lt;sps-me-oame-0&gt;&lt;add-user&gt; INFO: Checking if the current operation is allowed. 
&lt;2018.12.04 16:04:22 -0500&gt;&lt;sps-me-oame-0&gt;&lt;add-user&gt; INFO: Taking the operation '/usr/sbin/useradd -g "group1" -p \$6\$DLd6f8vB\$cldV1CRS4nwVupeOBp.YGhGYGlP.FSPVgxAnqOLutEOiWsy1LvGZxKaQ10VOlhmWcVBaeGm94OzBWj9mNGYpB1 newuser1' on 'all'.
&lt;2018.12.04 16:04:23 -0500&gt;&lt;sps-me-oame-0&gt;&lt;add-user&gt; INFO: The operation succeeded on all target nodes.
&lt;2018.12.04 16:04:23 -0500&gt;&lt;sps-me-oame-0&gt;&lt;add-user&gt; INFO: Done with success.</codeblock>
</fig>
</section>
</conbody></concept>