<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="id9yz-09126-ug01-pczza-sp1-d1e30055"><title>Triggers</title><conbody>
<section><title>Triggers (ruleSet) for charging</title>
<p>The following table describes the triggers available for charging and the source contexts available for each trigger. These triggers are configurable for APIs but are automatically initiated for rules and rule tables configured using profiles and the SM GUI.</p>
<table pgwide="1" colsep="1" rowsep="1">
                <title>Triggers for charging and mapping to source contexts</title>
                <tgroup cols="3">
                    <colspec colname="col1" colwidth="1.55*"/>
                    <colspec colname="col2" colwidth="1*"/>
                    <colspec colname="COLSPEC0" colwidth="1.06*"/>
                    <thead>
                        <row>
                            <entry>
                                <p>Trigger</p>
                            </entry>
                            <entry>
                                <p>Description</p>
                            </entry>
                            <entry>
                                <p>Applicable source contexts</p>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>APPLICABILITY</entry>
                            <entry> Trigger applicable to rating for evaluating applicability of a
                                charging service. </entry>
                            <entry>
                                <p>CALL_COMMON</p>
                                <p>GY_MESSAGE</p>
                                <p>SERVICE_INFO</p>
                                <p>SPR_DEVICE</p>
                                <p>SPR_GROUP</p>
                                <p>GyCCR</p>
                                <p>IMS_SERVICE_INFO</p>
                            </entry>
                        </row>
                        <row>
                            <entry>CALL_RULE_VARIABLES</entry>
                            <entry>
                                <p>Trigger applied for creating a particular rule variable, which is
                                    available to all Rule-Set for read and update.</p>
                                <p>This trigger has the following constraints:</p>
                                <ul>
                                    <li>
                                        <p>One rule variable should be available to all specified
                                            triggers.</p>
                                    </li>
                                    <li>
                                        <p>The available rules variable can be updated from
                                            different rules (such as tariff or counter rules).</p>
                                    </li>
                                    <li>
                                        <p>The updated value of rule variable should be available
                                            during the next rule set evaluation.</p>
                                    </li>
                                    <li>
                                        <p>The changed value of rule variable has a scope in a
                                            call.</p>
                                    </li>
                                </ul>
                            </entry>
                            <entry> This trigger only holds rule variables and currently, does not
                                support any source contexts. </entry>
                        </row>
                        <row>
                            <entry>COUNTER</entry>
                            <entry> Trigger applied to rating for evaluating the counter rules. </entry>
                            <entry>
                                <p>CALL_COMMON</p>
                                <p>GY_MESSAGE</p>
                                <p>IMS_SERVICE_INFO</p>
                                <p>SPR_DEVICE</p>
                                <p>SPR_GROUP</p>
                            </entry>
                        </row>
                        <row>
                            <entry>GY_CREDIT_REQUEST</entry>
                            <entry> Trigger applied to call controller. </entry>
                            <entry>
                                <p>CALL_COMMON</p>
                                <p>GY_MESSAGE</p>
                                <p>SPR_DEVICE</p>
                                <p>GyCCR</p>
                                <p>IMS_SERVICE_INFO</p>
                                <p>SPR_DEVICE</p>
                            </entry>
                        </row>
                        <row>
                            <entry>GY_POST_PROCESSING</entry>
                            <entry> Trigger applied for any actions to be taken at Gy Post
                                processing. It is for processing trigger at call control and should
                                be evolved per use case. </entry>
                            <entry>
                                <p>CALL_COMMON</p>
                                <p>GY_MESSAGE</p>
                                <p>GyCCR</p>
                                <p>SERVICE_INFO</p>
                                <p>SPR_DEVICE</p>
                                <p>SPR_GROUP</p>
                                <p>RATING_POSTPROCESSING</p>
                            </entry>
                        </row>
                        <row>
                            <entry>GY_PRE_PROCESSING</entry>
                            <entry> Trigger applied for any actions to be taken at Gy Pre
                                processing. It is for processing trigger at call control and should
                                be evolved per use case. </entry>
                            <entry>
                                <p>GY_MESSAGE</p>
                                <p>GyCCR</p>
                                <p>SPR_DEVICE</p>
                            </entry>
                        </row>
                        <row>
                            <entry>GY_SESSION_ESTABLISHMENT</entry>
                            <entry> Trigger applied to Gy CCR session establishment request
                                    (<i>CC-Request-Type</i> AVP is set to the value
                                    <varname>INITIAL_REQUEST</varname>) </entry>
                            <entry morerows="2"> - </entry>
                        </row>
                        <row>
                            <entry>GY_SESSION_MODIFICATION</entry>
                            <entry> Trigger applied to Gy CCR session update request
                                    (<i>CC-Request-Type</i> AVP is set to the value
                                    <varname>UPDATE_REQUEST</varname>) </entry>
                        </row>
                        <row>
                            <entry>GY_SESSION_TERMINATION</entry>
                            <entry> Trigger applied to Gy CCR session terminate request
                                    (<i>CC-Request-Type</i> AVP is set to the value
                                    <varname>TERMINATE_REQUEST</varname>) </entry>
                        </row>
                        <row>
                            <entry>IMS_CALL_ESTABLISHMENT</entry>
                            <entry> Trigger applied to Ro IMS session establishment request. </entry>
                            <entry morerows="2">
                                <p>GY_MESSAGE</p>
                                <p>GyCCR</p>
                                <p>IMS_SERVICE_INFO</p>
                            </entry>
                        </row>
                        <row>
                            <entry>IMS_CALL_MODIFICATION</entry>
                            <entry> Trigger applied to Ro IMS session update request. </entry>
                        </row>
                        <row>
                            <entry>IMS_CALL_TERMINATION</entry>
                            <entry> Trigger applied to Ro IMS session terminate request. </entry>
                        </row>
                        <row>
                            <entry>MMS_CALL_ESTABLISHMENT</entry>
                            <entry> Trigger applied to MMS session establishment request. </entry>
                            <entry morerows="1"> GY_MESSAGE </entry>
                        </row>
                        <row>
                            <entry>MMS_CALL_TERMINATION</entry>
                            <entry> Trigger applied to MMS session termination request. </entry>
                        </row>
                        <row>
                            <entry>NCHF_CHARGING_CALL_ESTABLISHMENT</entry>
                            <entry> Trigger applied for 5G calls. </entry>
                            <entry> NCHF_CHARGING_MESSAGE </entry>
                        </row>
                        <row>
                            <entry> NCHF_CHARGING_CALL_MODIFICATION </entry>
                            <entry> Trigger applied for 5G calls. </entry>
                            <entry> NCHF_CHARGING_MESSAGE </entry>
                        </row>
                        <row>
                            <entry> NCHF_CHARGING_CALL_TERMINATION </entry>
                            <entry> Trigger applied for 5G calls. </entry>
                            <entry> NCHF_CHARGING_MESSAGE </entry>
                        </row>
                        <row>
                            <entry>RATING_POST_PROCESSING</entry>
                            <entry> Trigger applied for any action to be taken at rating
                                post-processing </entry>
                            <entry>
                                <p>CALL_COMMON</p>
                                <p>GY_MESSAGE</p>
                                <p>GyCCR</p>
                                <p>SERVICE_INFO</p>
                                <p>SPR_DEVICE</p>
                                <p>SPR_GROUP</p>
                                <p>SUBSCRIPTION</p>
                                <p>RATING_POSTPROCESSING</p>
                            </entry>
                        </row>
                        <row>
                            <entry>RESOURCE_POST_PROCESSING</entry>
                            <entry>Trigger is evaluated only after COMMIT of every resource.</entry>
                            <entry>
                                <p>BUNDLE</p>
                                <p>CALL_COMMON</p>
                                <p>ECOMMERCE</p>
                                <p>GY_MESSAGE</p>
                                <p>IMS_SERVICE_INFO</p>
                                <p>NCHF_CHARGING_MESSAGE</p>
                                <p>SERVICE_INFO</p>
                                <p>SPR_DEVICE</p>
                                <p>SPR_GROUP</p>
                                <p>SUBSCRIPTION</p>
                            </entry>
                        </row>
                        <row>
                            <entry>SLICING_PROFILE</entry>
                            <entry> Used to determine the dynamic slicing parameters like validity
                                time, quota holding time, static slice/algorithm name, slice
                                reduction parameters, and minimum slice. </entry>
                            <entry>
                                <p>CALL_COMMON</p>
                                <p>GY_MESSAGE</p>
                                <p>SERVICE_INFO</p>
                                <p>SPR_DEVICE</p>
                                <p>GyCCR</p>
                                <p>SPR_GROUP</p>
                            </entry>
                        </row>
                        <row>
                            <entry>SMS_CALL_ESTABLISHMENT</entry>
                            <entry> Trigger applied to SMS session establishment request. </entry>
                            <entry morerows="1"> GY_MESSAGE </entry>
                        </row>
                        <row>
                            <entry>SMS_CALL_TERMINATION</entry>
                            <entry> Trigger applied to SMS session termination request. </entry>
                        </row>
                        <row>
                            <entry>SNR_MANAGEMENT</entry>
                            <entry> Trigger applied to Sy SNR messages for the purpose of sending
                                SNR notifications when the application preference <i>Virtual Policy
                                    Counter Support</i> is set to <varname>BUCKET_COUNTER</varname>. </entry>
                            <entry>
                                <p>SPR_DEVICE</p>
                                <p>SY_COUNTER</p>
                                <p>SNR_MANAGEMENT</p>
                                <p>
                                    <uicontrol>Note:</uicontrol> SY_COUNTER is reserved for future
                                    use.</p>
                            </entry>
                        </row>
                        <row>
                            <entry>SNA_MANAGEMENT</entry>
                            <entry> Trigger applied to Sy SNA messages for the purpose of sending
                                SNA notifications when the application preference <i>Virtual Policy
                                    Counter Support</i> is set to <varname>BUCKET_COUNTER</varname>. </entry>
                            <entry>
                                <p>SPR_DEVICE</p>
                                <p>SY_COUNTER</p>
                                <p>SNA_MANAGEMENT</p>
                                <p>
                                    <uicontrol>Note:</uicontrol> SY_COUNTER is reserved for future
                                    use.</p>
                            </entry>
                        </row>
                        <row>
                            <entry>SNR_RESULT</entry>
                            <entry> Trigger applied to Sy SNR messages for the purpose of deciding
                                whether the SNR message is dropped. </entry>
                            <entry>
                                <p>SPR_DEVICE</p>
                                <p>SY_COUNTER</p>
                                <p>SY_COUNTER_EVAL</p>
                                <p>
                                    <uicontrol>Note:</uicontrol> SPR_DEVICE is not supported on SM
                                    GUI.</p>
                            </entry>
                        </row>
                        <row>
                            <entry>SY_SESSION_ESTABLISHMENT</entry>
                            <entry> Trigger applied to Sy SLR session establishment, such as
                                    <i>SL-Request-Type</i> = <varname>INITIAL_REQUEST</varname>
                                requests </entry>
                            <entry morerows="1">
                                <p>SPR_DEVICE</p>
                                <p>SY_MESSAGE</p>
                                <p>
                                    <uicontrol>Note:</uicontrol> SPR_DEVICE is not supported on SM
                                    GUI.</p>
                            </entry>
                        </row>
                        <row>
                            <entry>SY_SESSION_MODIFICATION</entry>
                            <entry> Trigger applied to Sy SLR session modification
                                    <i>SL-Request-Type</i> = <varname>INTERMEDIATE_REQUEST</varname>
                                requests </entry>
                        </row>
                        <row>
                            <entry>TARIFF</entry>
                            <entry> Trigger applied to rating for evaluating the tariff of the call. </entry>
                            <entry>
                                <p>CALL_COMMON</p>
                                <p>GY_MESSAGE</p>
                                <p>SERVICE_INFO</p>
                                <p>SPR_DEVICE</p>
                                <p>GyCCR</p>
                                <p>IMS_SERVICE_INFO</p>
                                <p>SPR_GROUP</p>
                            </entry>
                        </row>
                        <row>
                            <entry>THRESHOLD</entry>
                            <entry> Trigger applied to evaluate the threshold of the call. </entry>
                            <entry>
                                <p>CALL_COMMON</p>
                                <p>GY_MESSAGE</p>
                                <p>SERVICE_INFO</p>
                                <p>SPR_DEVICE</p>
                                <p>SUBSCRIPTION</p>
                                <p>THRESHOLD_PROFILE</p>
                                <p>GYCCR</p>
                                <p>IMS_SERVICE_INFO</p>
                                <p>RATING_POSTPROCESSING</p>
                                <p>SPR_GROUP</p>
                            </entry>
                        </row>
                        <row>
                            <entry>UC_PROCESSING</entry>
                            <entry> Trigger applied to set the <i>Response Code</i> and <i>filter
                                    Id</i> when a call is rejected due to processing at UC level.
                                For example, called party number is in barred list configured at UC
                                or counter usage limit reached due a threshold configured with
                                hard-stop. </entry>
                            <entry>
                                <p>CALL_COMMON</p>
                                <p>DiameterAnswer</p>
                                <p>DiameterRequest</p>
                                <p>GY_MESSAGE</p>
                                <p>GyCCR</p>
                                <p>NCHF_CHARGING_MESSAGE</p>
                                <p>SPR_DEVICE</p>
                                <p>UC</p>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <ol id="ol_df2_wzh_4mb">
                <li>The source contexts <i>COMPLEX_MAP</i>, <i>CONVERSION</i>, <i>PROPERTIES</i>,
                        <i>SYSTEM</i>, and <i>VARIABLES</i> are available for all the triggers.</li>
                <li>The triggers <i>SNR_RESULT</i>, <i>SY_SESSION_ESTABLISHMENT</i>, and
                        <i>SY_SESSION_MODIFICATION</i> are available in the GUI, but are presently
                    not used. These are reserved for future use.</li>
            </ol>
</section>
</conbody></concept>