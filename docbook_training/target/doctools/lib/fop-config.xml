<?xml version="1.0" encoding="UTF-8"?>
<fop version="1.1">
  <!-- 
   Uncomment this line for Lax FO validation 
  -->
 <!-- <strict-validation>false</strict-validation>-->
  
  <!-- 
        The base folder for relative paths.
  -->
  <!-- <base>./</base> -->
  
  
  <!-- 
        The base folder for the font metrics files generated by org.apache.fop.fonts.apps.TTFReader. 
        
        For setting the base folder you should uncomment the next line and replace the folder value
        with the correct path from your computer.  
  -->
<!--  <font-base>file:/Applications/Oxygen/FOP-fonts/</base> -->
  
<!-- failures: 
<font-base>file:/Program Files/Motive/doctools/xep/4.19/fonts/</base>
<font-base>file:///C:/Program%20Files/Motive/doctools/xep/4.19/fonts/</base>
-->

  
  <!-- 
        The image resolution. For setting the resolution of images processed by FOP you should 
        uncomment one or both of the following lines.  
  -->
  <!-- <source-resolution>72</source-resolution> -->
  <!-- <target-resolution>72</target-resolution> -->
  
  
  <!-- 
        The format of the output page.  
  -->
  <default-page-settings height="11in" width="8.26in"/>
  
  <renderers>
    <renderer mime="application/pdf">

   <filterList>
        <value>flate</value>
      </filterList>
      
      <fonts>
        <!--  
              Example of declaration of a font metrics file for normal font style. You should unomment the 
              <font> element and set the correct file paths from your computer. 
        -->
        <!-- <font metrics-url="Arialuni.xml" kerning="yes" 
          embed-url="file:/Library/Fonts/Arialuni.ttf">
          <font-triplet name="Arialuni" style="normal" weight="normal"/>
        </font> -->
        
        <!--  
              Example of declaration of a font metrics file for bold font style.  You should unomment the 
              <font> element and set the correct file paths from your computer. 
        -->
        <!-- <font metrics-url="Arialuni-Bold.xml" kerning="yes"
          embed-url="file:/Library/Fonts/Arialuni-Bold.ttf">
          <font-triplet name="Arialuni" style="normal" weight="bold"/>
        </font> -->
        
        <!--  
              Example of declaration of a font metrics file for italic font style. You should unomment the 
              <font> el ement and set the correct file paths from your computer. 
        -->
        <!-- <font metrics-url="Arialuni-Italic.xml" kerning="yes"
          embed-url="file:/Library/Fonts/Arialuni-Italic.ttf">
          <font-triplet name="Arialuni" style="italic" weight="normal"/>
        </font> -->
        
        
        <!-- 
              FOP will look for other fonts in the fonts installed in the operating system. 
        -->
<!-- FONT DIRECTORY PATH
   must supply the path to custom fonts folder(s).

Aaron DaMommio notes on this:
- If it can't find your font folder by the path you give, you'll get a clear message mentioning the faulty path in your log.
- really doesn't like spaces in filenames
- standard windows abs paths like C:\temp\fonts work great
- for a relative path:
   - MUST use fwd-slash syntax for that; can't use windows style ..\..
   - of course it is imperative to know what the fop basedir is.  For example, it's not automatically the location of fop.jar - instead, it's the folder in which fop is executed, which, when run from ant, is the basedir of the ant file.
  The value <directory>../../target\doctools\fonts</directory>  is based on the ant file executing FOP in the BOOK folder (ie, <projectdir>\en_US\bookname).

- I found that when fop is launched via mvn, as in mvn compile, it doesn't find the font dir anymore (when using ../../target/doctools/fonts as the font dir value)... hence, it must be using some different start dir, which turned out to be the project directory. I tried adding a basedir value to my fop calls in main-build, but that had no effect (seems like basedir is only for relative paths for graphics, and maybe we don't want to change that anyway).
    - So I worked around that by adding a second directory spec below. 
    - This means only one of these is ever valid, so you'll always get at least one font dir error per build.


-->

<directory>../../target/doctools/fonts</directory> <!-- this one for running book-level builds in a en_US\bookfolder -->
<directory>target/doctools/fonts</directory>  <!-- this one for when running under mvn, where base dir is project root -->

<!--       <auto-detect/>  commenting this out temporarily, to see if can repro font errors on my box -->
       </fonts>
    </renderer>
  </renderers>
</fop>
